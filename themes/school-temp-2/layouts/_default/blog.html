{{ define "main" }}
<div class="blog-wrapper">
  <!-- Blog Header -->
  <div class="blog-header">
    <div class="container">
      <h1>Our Blog</h1>
      <div class="blog-description">
        <p>
          Stay up to date with the latest tech news, tutorials, and insights
        </p>
      </div>
      <div class="blog-filters">
        <button class="filter-btn active">All</button>
        <button class="filter-btn">Technology</button>
        <button class="filter-btn">Development</button>
        <button class="filter-btn">Design</button>
        <button class="filter-btn">Tutorial</button>
      </div>
    </div>
  </div>

  <div class="blog-container container">
    <div class="blog-content">
      <!-- Featured Post -->
      <div class="featured-post">
        <div class="post-image">
          <img
            src="https://via.placeholder.com/1200x600/007bff/ffffff?text=Featured+Blog+Post"
            alt="Featured Post"
          />
          <div class="post-category">Featured</div>
        </div>
        <div class="post-content">
          <div class="post-meta">
            <span class="post-date">March 21, 2024</span>
            <span class="post-read-time">5 min read</span>
          </div>
          <h2>Building Modern Web Applications with Next.js</h2>
          <p>
            Learn how to create fast, SEO-friendly web applications using
            Next.js and React. Discover the best practices and latest
            features...
          </p>
          <div class="post-footer">
            <div class="author">
              <img
                src="https://via.placeholder.com/100x100/6c757d/ffffff?text=JD"
                alt="John Doe"
              />
              <span>John Doe</span>
            </div>
            <a href="/blog/modern-web-apps" class="read-more">
              Read Article <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>

      <!-- Blog Grid -->
      <div class="blog-grid">
        {{ range $index, $element := (seq 6) }}
        <article class="blog-card">
          <div class="card-image">
            <img src="https://via.placeholder.com/600x400/{{ index (slice
            "007bff" "28a745" "dc3545" "ffc107" "17a2b8" "6c757d") $index
            }}/ffffff?text=Blog+Post+{{ add $index 1 }}" alt="Blog Post {{ add
            $index 1 }}" />
            <div class="card-category">Development</div>
          </div>
          <div class="card-content">
            <div class="card-meta">
              <span class="date">March {{ add 15 $index }}, 2024</span>
              <span class="read-time">4 min read</span>
            </div>
            <h3>Understanding Modern JavaScript Features</h3>
            <p>
              Explore the latest JavaScript features and how they can improve
              your code quality and development workflow...
            </p>
            <div class="card-footer">
              <div class="author">
                <img
                  src="https://via.placeholder.com/100x100/6c757d/ffffff?text=JS"
                  alt="Jane Smith"
                />
                <span>Jane Smith</span>
              </div>
              <a href="/blog/post-{{ $index }}" class="read-more">
                Read More <i class="fas fa-arrow-right"></i>
              </a>
            </div>
          </div>
        </article>
        {{ end }}
      </div>

      <!-- Pagination -->
      <div class="pagination">
        <button class="prev-btn" disabled>
          <i class="fas fa-chevron-left"></i> Previous
        </button>
        <div class="page-numbers">
          <button class="page-btn active">1</button>
          <button class="page-btn">2</button>
          <button class="page-btn">3</button>
          <span>...</span>
          <button class="page-btn">12</button>
        </div>
        <button class="next-btn">
          Next <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

    <!-- Sidebar -->
    <aside class="blog-sidebar">
      <!-- Search -->
      <div class="sidebar-widget">
        <div class="search-box">
          <input type="text" placeholder="Search articles..." />
          <button type="button">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>

      <!-- Categories -->
      <div class="sidebar-widget">
        <h3>Categories</h3>
        <ul class="category-list">
          <li>
            <a href="#">
              <span>Development</span>
              <span class="count">24</span>
            </a>
          </li>
          <li>
            <a href="#">
              <span>Design</span>
              <span class="count">18</span>
            </a>
          </li>
          <li>
            <a href="#">
              <span>Technology</span>
              <span class="count">15</span>
            </a>
          </li>
          <li>
            <a href="#">
              <span>Tutorial</span>
              <span class="count">12</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Recent Posts -->
      <div class="sidebar-widget">
        <h3>Recent Posts</h3>
        <div class="recent-posts">
          {{ range $index, $element := (seq 3) }}
          <div class="recent-post">
            <div class="post-image">
              <img src="https://via.placeholder.com/200x200/{{ index (slice
              "007bff" "28a745" "dc3545") $index }}/ffffff?text=Recent+{{ add
              $index 1 }}" alt="Recent Post {{ add $index 1 }}" />
            </div>
            <div class="post-info">
              <h4>Getting Started with TypeScript</h4>
              <span class="date">March {{ add 20 $index }}, 2024</span>
            </div>
          </div>
          {{ end }}
        </div>
      </div>

      <!-- Tags -->
      <div class="sidebar-widget">
        <h3>Popular Tags</h3>
        <div class="tag-cloud">
          <a href="#" class="tag">JavaScript</a>
          <a href="#" class="tag">React</a>
          <a href="#" class="tag">CSS</a>
          <a href="#" class="tag">TypeScript</a>
          <a href="#" class="tag">Vue.js</a>
          <a href="#" class="tag">Node.js</a>
          <a href="#" class="tag">UI/UX</a>
          <a href="#" class="tag">Web Design</a>
        </div>
      </div>

      <!-- Newsletter -->
      <div class="sidebar-widget newsletter">
        <h3>Newsletter</h3>
        <p>Subscribe to our newsletter for the latest updates</p>
        <form class="newsletter-form">
          <input type="email" placeholder="Your email address" required />
          <button type="submit">Subscribe</button>
        </form>
      </div>
    </aside>
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Filter functionality
    const filterButtons = document.querySelectorAll(".filter-btn");
    const blogCards = document.querySelectorAll(".blog-card");

    filterButtons.forEach((button) => {
      button.addEventListener("click", () => {
        // Remove active class from all buttons
        filterButtons.forEach((btn) => btn.classList.remove("active"));
        // Add active class to clicked button
        button.classList.add("active");

        const category = button.textContent.toLowerCase();

        // Filter blog cards
        blogCards.forEach((card) => {
          const cardCategory = card
            .querySelector(".card-category")
            .textContent.toLowerCase();
          if (category === "all" || cardCategory === category) {
            card.style.display = "block";
          } else {
            card.style.display = "none";
          }
        });
      });
    });

    // Search functionality
    const searchInput = document.querySelector(".search-box input");
    const searchButton = document.querySelector(".search-box button");

    function performSearch() {
      const searchTerm = searchInput.value.toLowerCase();
      const blogPosts = document.querySelectorAll(".blog-card, .featured-post");

      blogPosts.forEach((post) => {
        const title = post.querySelector("h2, h3").textContent.toLowerCase();
        const content = post.querySelector("p").textContent.toLowerCase();

        if (title.includes(searchTerm) || content.includes(searchTerm)) {
          post.style.display = "block";
        } else {
          post.style.display = "none";
        }
      });
    }

    searchButton.addEventListener("click", performSearch);
    searchInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        performSearch();
      }
    });

    // Pagination functionality
    const pageButtons = document.querySelectorAll(".page-btn");
    const prevButton = document.querySelector(".prev-btn");
    const nextButton = document.querySelector(".next-btn");
    let currentPage = 1;

    function updatePagination() {
      pageButtons.forEach((btn) => btn.classList.remove("active"));
      pageButtons[currentPage - 1].classList.add("active");

      prevButton.disabled = currentPage === 1;
      nextButton.disabled = currentPage === pageButtons.length;
    }

    pageButtons.forEach((button, index) => {
      button.addEventListener("click", () => {
        currentPage = index + 1;
        updatePagination();
      });
    });

    prevButton.addEventListener("click", () => {
      if (currentPage > 1) {
        currentPage--;
        updatePagination();
      }
    });

    nextButton.addEventListener("click", () => {
      if (currentPage < pageButtons.length) {
        currentPage++;
        updatePagination();
      }
    });

    // Newsletter subscription
    const newsletterForm = document.querySelector(".newsletter-form");

    newsletterForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const emailInput = newsletterForm.querySelector('input[type="email"]');

      if (emailInput.value) {
        // Here you would typically send this to your backend
        alert(
          "Thank you for subscribing! You will receive our updates at: " +
            emailInput.value
        );
        emailInput.value = "";
      }
    });

    // Tag cloud functionality
    const tags = document.querySelectorAll(".tag");

    tags.forEach((tag) => {
      tag.addEventListener("click", (e) => {
        e.preventDefault();
        const tagText = tag.textContent.toLowerCase();

        // Filter blog posts by tag
        blogCards.forEach((card) => {
          const cardContent = card.textContent.toLowerCase();
          if (cardContent.includes(tagText)) {
            card.style.display = "block";
          } else {
            card.style.display = "none";
          }
        });
      });
    });
  });
</script>
{{ end }}
